<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HW Hangman HW</title>
  <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://bootswatch.com/darkly/bootstrap.min.css"
</head>

<body>
<div class="jumbotron">
  <h1 class="text-center">Hangman</h1>
  <div class="text-center">Text here</div>
</div>
<div class="container">
  <div class="row">
    <div class="col-md-2 test-left">
      <p>Put you tube stuff here</p>
    </div>
    <div class="col-md-6 text-center" id= "hangmanAreaHTML">
      <h2 id="gameCmdHtml">Press space bar to start playing</h2>
      <p id="line1Html">   0</p>
      <p id="line2Html">>--|--<</p>
      <p id="line3Html">  / \</p>
      <br>
      <h2 id="searchWordHtml"> ***** </h2>
      <br
      <p id="unGuessedHtml"></p>
      <p id="allGuessedHtml"></p>
      <p id="guessesLeftHtml"></p>
      <!--Put hangman stuff here -->
    </div>
    <div class="col-md-4 text-center" id="statsAreaHTML">
      <p>Put game stats here</p>
    </div>
  </div>
</div>

<script>
{
//global varibals
  var debug = false;
  var abcObj ={
    letterAll: [],
    alreadyGuessed:[]
  }
  var wordFindObj ={
    searchWord: "",
    searchwordArray: [],
    foundLettersArray: [],
    foundLettersString: "",
    foundLettersArrayToString: function(){
      this.foundLettersString = ""; //reset to ensure it's clear before creating a new one
      for(var x=0;x<this.foundLettersArray.length;x++){
        this.foundLettersString = this.foundLettersString + this.foundLettersArray[x];
      }
    }

  }
  var stringAbcGuessed;
  var stringAbcLeft;
  var lettersCorrect;
  var lettersMissed;
  var percentGuessedRight;
  var gamesWon;
  var gamesLost;
  var guessesLeft;
  var percentGamesWon;
  var currentWinningStreak;
  var longestWinningStreak;
  var hangmanAreaText;
  var gameCmdTxt;
  var userGuess;
  //var searchWord = "football";
//end gobal variables

//initilization

  //initilizeABC();
  //stringABC();

//end initization

//control of hangman area



//capture Key Clicks
  document.onkeyup = function(event) {
    //wait for space bar hit
    if (event.keyCode === 32){
      //initilize first game if space bar hit
      initFind("football");
      initFirstGame();
    }
    else{ //if not space bar is it a valid guess
      var userGuess = String.fromCharCode(event.keyCode).toLowerCase();
      var letterAllNdx=abcObj.letterAll.indexOf(userGuess);
      //if vaild guess
      if(abcObj.letterAll.includes(userGuess) === true && abcObj.alreadyGuessed[letterAllNdx] === false){
        //mark the alreadyGuessed as true.
        //update stringAbcLeft string
        //update stringAbcGuessed string
        //is userGuess in the search word?
        evalUserGuess(userGuess , letterAllNdx);
        //update stats

        //update & output hangmanAreaHTML

      }//end if valid guess
    }//end of else not space bar
  }

//control of stats area

//end control of stats area



//functions

  function updateGuessed(ndx){
    //track the letter guessed
    abcObj.alreadyGuessed[ndx]=true;
    if(true){console.log("updateGuessed(ndx) = " + ndx);}
    stringABC();
    //output new ABC's to screen
    var unGuessedStringText  ="<p id='unGuessedHtml'>" + stringAbcLeft + "</p>" ;
    var guessedStringText = "<p id='allGuessedHtml'>" + stringAbcGuessed + "</p>";
    var guessesLeftText ="<p id= 'guessesLeftHtml'> Tries remaining = " + guessesLeft +"</p>";
    document.querySelector('#unGuessedHtml').innerHTML = unGuessedStringText;
    document.querySelector('#allGuessedHtml').innerHTML = guessedStringText;
    document.querySelector('#guessesLeftHtml').innerHTML = guessesLeftText;
  }//end updateGuessed

  function initilizeABC(){
    abcObj.letterAll= ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
    abcObj.alreadyGuessed= [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false];
  } //end of initilizeABC

  function initFirstGame(){
    initNewGame();
    gamesWon = 0;
    gamesLost = 0;
    percentGamesWon = 0;
    longestWinningStreak = 0;
    outputHangmanArea(-1);

  } // end of initFirstGame

  function initNewGame(){
    initilizeABC();
    stringABC();
    lettersCorrect = 0;
    lettersMissed = 0;
    guessesLeft = 10;
    percentGuessedRight = 0;
    currentWinningStreak = 0;
  } // end of initNewGame
  function stringABC(){
    stringAbcLeft ="Letters remaining = |";
    stringAbcGuessed="Letters already guessed = |";
    for (var x = 0 ; x < abcObj.letterAll.length;x++){
      if(abcObj.alreadyGuessed[x]==false){
        stringAbcLeft=stringAbcLeft.concat(abcObj.letterAll[x])+"|";
      } // end of if
      else{
        stringAbcLeft=stringAbcLeft.concat(" ")+"|";
        stringAbcGuessed=stringAbcGuessed.concat(abcObj.letterAll[x])+"|";
      } // end of else
    }// end of for
    if(debug){console.log(stringAbcGuessed);console.log(stringAbcLeft);}
  }//end of stringABC()

  function outputHangmanArea(ndx){
    if (true) {console.log("outputHangmanArea(ndx) = "+ndx)}
    if(ndx == -1){
      initilizeHangmanArea();
    }
    else{
      //switch on the numbers of missed guesses
      switch (ndx) {
        case 0:
          //nothing changes
          break;
        case 1:
          var line1Text = "<p id='line1Html'>   0</p>";
          document.querySelector('#line1Html').innerHTML = line1Text;
          break;
          case 2:
          var line2Text = "<p id='line2Html'>|</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 3:
          var line2Text = "<p id='line2Html'>-| </p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 4:
          var line2Text = "<p id='line2Html'>-|-</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 5:
          var line2Text = "<p id='line2Html'>--|-</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 6:
          var line2Text = "<p id='line2Html'>--|--</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 7:
          var line2Text = "<p id='line2Html'>>--|--</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 8:
          var line2Text = "<p id='line2Html'>>--|--<</p>";
          document.querySelector('#line2Html').innerHTML = line2Text;
          break;
          case 9:
          var line3Text = "<p id='line3Html'>/</p>";
          document.querySelector('#line3Html').innerHTML = line3Text;
          break;
          case 10:
          var line3Text = "<p id='line3Html'>/ \\</p>";
          document.querySelector('#line3Html').innerHTML = line3Text;
          break;
      }
      var searchWordText =   "<h2 id='searchWordHtml'>"+ wordFindObj.foundLettersString + "</h2>"
      if (true) {console.log("searchWordText = "+ searchWordText);}
      document.querySelector('#searchWordHtml').innerHTML = searchWordText;
      "<p 'guessesLeftHtml'> Tries remaining = " + guessesLeft +"</p>"
    } //end else not init
  } //end outputHangmanArea

  function  initFind(input){
    wordFindObj.searchwordArray = input.split("");
    for(var x = 0; x < wordFindObj.searchwordArray.length;x++){
      wordFindObj.foundLettersArray[x] = "*";
      //wordFindObj.foundLettersString = wordFindObj.foundLettersString + wordFindObj.foundLettersArray[x];
      if(debug){
        console.log("searchwordArray element"+ x +" =" + wordFindObj.searchwordArray[x]);
        console.log("foundLettersArray element"+ x +" =" + wordFindObj.foundLettersArray[x]);
      }//end if debug
    }//end for
    wordFindObj.foundLettersArrayToString();
    if(true){console.log("foundLettersString = "+ wordFindObj.foundLettersString);}

  }//end initFind()

  function evalUserGuess(userGuess,letterAllNdx){
    //is the guess is in the search Word
    if(wordFindObj.searchwordArray.includes(userGuess)){
      var searchwordArrayNdx=wordFindObj.searchwordArray.indexOf(userGuess);
      var searchwordArrayLastNdx=wordFindObj.searchwordArray.lastIndexOf(userGuess);
      if(true){console.log("foundLettersString = "+ wordFindObj.foundLettersString);}
      wordFindObj.foundLettersArray[searchwordArrayNdx] = wordFindObj.searchwordArray[searchwordArrayNdx];
      wordFindObj.foundLettersArrayToString();
      updateGuessed(letterAllNdx);

      if (searchwordArrayNdx !=searchwordArrayLastNdx) {
        if(true){console.log("searchwordArrayNdx != searchwordArrayLastNdx");}
        for (var x=searchwordArrayNdx;x<wordFindObj.searchwordArray.length;x++){
          if(true){console.log("x = " + x);}
          searchwordArrayNdx++
          searchwordArrayNdx = wordFindObj.searchwordArray.indexOf(userGuess, searchwordArrayNdx);
          if(true){console.log("230 searchwordArrayNdx = " + searchwordArrayNdx);}
          if(searchwordArrayNdx===-1){
            if(true){console.log("232 searchwordArrayNdx = " + searchwordArrayNdx);}
            break;}
          wordFindObj.foundLettersArray[searchwordArrayNdx] = wordFindObj.searchwordArray[searchwordArrayNdx];
          wordFindObj.foundLettersArrayToString();
        }
      }
      outputHangmanArea(0); //not a missed guess - don't add to the hangman
      //output stats
    }// end of correct guess
    else{
      //else incorrect guess
      //increment fial counter
      lettersMissed++;
      guessesLeft--;
      outputHangmanArea(lettersMissed);
      updateGuessed(letterAllNdx);
      //putput stats
    }
  }// end evalUsserGuess()

  function initilizeHangmanArea(){
    hangmanAreaText = "<h2 id='gameCmdHtml'>Choose a letter</h2>" +
      "<p id='line1Html'></p>" +
      "<p id='line2Html'></p>" +
      "<p id='line3Html'> </p>" +
      "<br>"+
      "<h2 id='searchWordHtml'>"+ wordFindObj.foundLettersString + "</h2>"+
      "<br>"+
      "<p id='unGuessedHtml'>" + stringAbcLeft + "</p>" +
      "<p id='allGuessedHtml'>" + stringAbcGuessed + "</p>" +
      "<p id='guessesLeftHtml'> Tries remaining = " + guessesLeft +"</p>"
    document.querySelector('#hangmanAreaHTML').innerHTML = hangmanAreaText;
  }
// end functions
}// end of scripts
</script>


<p>My second Paragraph.</p>
</body>
</html>